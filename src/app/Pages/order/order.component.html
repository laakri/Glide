<div
  class="max-w-[50rem] mx-auto py-8 px-4 sm:px-6 lg:px-8 md:flex flex-col md:flex-row gap-6 min-h-[37rem]"
>
  <div class="w-full p-2 flex flex-col gap-4">
    <div>
      <div class="text-2xl">Order Details</div>
      <div>Please fill in the form to complete your order.</div>
    </div>

    <!-- Cart Items Section -->
    <div class="mt-4 px-2 py-4">
      <div class="text-xl">Cart Items</div>
      <table class="table mt-2">
        <thead>
          <tr>
            <th>Product Name</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Subtotal</th>
          </tr>
        </thead>
        <tbody>
          @for ( item of cartItems ;track item){
          <tr>
            <td>{{ item.product.name }}</td>
            <td>{{ item.product.price }} Dt</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.product.price * item.quantity }} Dt</td>
          </tr>
          }
        </tbody>
      </table>
      <div class="flex justify-center mt-4 font-bold text-xl">
        Total: {{ cartTotal }} Dt
      </div>
    </div>

    <!-- Order Form -->
    <form #orderForm="ngForm" (ngSubmit)="submitOrder(orderForm)">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="label">
            <span class="label-text">Full Name</span>
          </label>
          <input
            type="text"
            class="input input-bordered w-full"
            name="fullName"
            [(ngModel)]="fullName"
            #fullNameField="ngModel"
            required
            placeholder="Enter your full name"
          />
          <div
            *ngIf="formSubmitted && fullNameField.invalid"
            class="text-red-500 text-sm mt-1"
          >
            Full Name is required
          </div>
        </div>
        <div>
          <label class="label">
            <span class="label-text">Email</span>
          </label>
          <input
            type="email"
            class="input input-bordered w-full"
            name="email"
            [(ngModel)]="email"
            #emailField="ngModel"
            required
            email
            placeholder="Enter your email"
          />
          <div
            *ngIf="formSubmitted && emailField.invalid"
            class="text-red-500 text-sm mt-1"
          >
            Valid email is required
          </div>
        </div>
        <div>
          <label class="label">
            <span class="label-text">Phone</span>
          </label>
          <input
            type="tel"
            class="input input-bordered w-full"
            name="phone"
            [(ngModel)]="phone"
            #phoneField="ngModel"
            required
            placeholder="Enter your phone number"
          />
          <div
            *ngIf="formSubmitted && phoneField.invalid"
            class="text-red-500 text-sm mt-1"
          >
            Phone number is required
          </div>
        </div>
        <div>
          <label class="label">
            <span class="label-text">Shipping Address</span>
          </label>
          <input
            type="text"
            class="input input-bordered w-full"
            name="address"
            [(ngModel)]="address"
            #addressField="ngModel"
            required
            placeholder="Enter your shipping address"
          />
          <div
            *ngIf="formSubmitted && addressField.invalid"
            class="text-red-500 text-sm mt-1"
          >
            Shipping Address is required
          </div>
        </div>
        <div>
          <label class="label">
            <span class="label-text">City</span>
          </label>
          <input
            type="text"
            class="input input-bordered w-full"
            name="city"
            [(ngModel)]="city"
            #cityField="ngModel"
            required
            placeholder="Enter your city"
          />
          <div
            *ngIf="formSubmitted && cityField.invalid"
            class="text-red-500 text-sm mt-1"
          >
            City is required
          </div>
        </div>
        <div>
          <label class="label">
            <span class="label-text">Postal Code</span>
          </label>
          <input
            type="text"
            class="input input-bordered w-full"
            name="postalCode"
            [(ngModel)]="postalCode"
            #postalCodeField="ngModel"
            required
            placeholder="Enter your postal code"
          />
          <div
            *ngIf="formSubmitted && postalCodeField.invalid"
            class="text-red-500 text-sm mt-1"
          >
            Postal Code is required
          </div>
        </div>
      </div>
      <button class="btn btn-primary mt-4 w-full" type="submit">Apply</button>
    </form>
  </div>
</div>
