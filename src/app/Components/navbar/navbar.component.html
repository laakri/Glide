<div class="sticky top-0 bg-base-300 z-10">
  <nav>
    <div class="mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <a
          href="#"
          class="hover:text-primary px-3 py-2 rounded-md text-sm font-medium flex gap-2 items-center"
        >
          <img class="h-6 w-auto" src="../../../assets/X-line.png" />
          <span class="text-2xl">Glide</span>
        </a>
        <label
          class="input input-bordered rounded-lg flex items-center gap-2 w-[33rem] input-sm mx-6"
        >
          <input type="text" class="grow" placeholder="Search" />
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 16 16"
            fill="currentColor"
            class="w-4 h-4 opacity-70"
          >
            <path
              fill-rule="evenodd"
              d="M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z"
              clip-rule="evenodd"
            />
          </svg>
        </label>
        <div class="flex items-center">
          <div class="hidden md:flex md:gap-2 md:ml-4">
            <label class="swap swap-rotate">
              <input type="checkbox" class="theme-controller" value="light" />
              <svg
                class="swap-off fill-current w-5 h-6"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
              >
                <path
                  d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"
                />
              </svg>
              <svg
                class="swap-on fill-current w-5 h-6"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
              >
                <path
                  d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"
                />
              </svg>
            </label>
            @if(isLoggedIn){

            <div class="mt-1">
              <a class="btn btn-xs" href="/QrScanner">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-6 w-5"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M4 4h6v6H4zM14 4h6v6h-6zM4 14h6v6H4zM14 14h2v2h-2zM18 14h2v2h-2zM16 18h2v2h-2zM18 18h2v2h-2z"
                  />
                </svg>
              </a>
            </div>
            <div class="dropdown dropdown-bottom dropdown-end">
              <div class="indicator mt-1" tabindex="0" role="button">
                <button class="btn btn-xs relative">
                  <span class="indicator-item badge badge-xs badge-accent">{{
                    unreadNotifications
                  }}</span>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M15 17h5l-1.405-1.405C18.21 14.79 18 13.937 18 13V9a6 6 0 00-5-5.917V3a2 2 0 10-4 0v.083A6 6 0 004 9v4c0 .937-.21 1.79-.595 2.595L2 17h5m6 0a3 3 0 11-6 0h6z"
                    />
                  </svg>
                </button>
              </div>
              <div
                tabindex="0"
                class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-96 max-h-[24rem] overflow-auto"
              >
                <app-notification></app-notification>
              </div>
            </div>
            }
            <div class="indicator mt-1">
              <span class="indicator-item badge badge-xs badge-accent">{{
                cartItemCount
              }}</span>

              <a class="btn btn-xs" href="/cart">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-6 w-5"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"
                  />
                </svg>
              </a>
            </div>
            @if(isLoggedIn){
            <div class="flex items-center gap-2">
              <div class="flex items-center px-5">
                <div class="flex-shrink-0">
                  <img class="h-5 w-auto" src="../../assets/squi-arrow.png" />
                </div>
                <div class="ml-3">
                  <div class="text-base font-medium leading-none">
                    {{ userData.userName }}
                  </div>
                  <div class="text-sm font-medium leading-none text-gray-400">
                    {{ userData.userEmail }}
                  </div>
                </div>
              </div>
              <details class="dropdown dropdown-end">
                <summary class="btn btn-sm">
                  <svg
                    class="swap-off fill-current"
                    xmlns="http://www.w3.org/2000/svg"
                    width="20"
                    height="20"
                    viewBox="0 0 512 512"
                  >
                    <path
                      d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z"
                    />
                  </svg>
                </summary>
                <ul
                  class="p-2 shadow menu dropdown-content z-[1] bg-base-100 border border-base-200 rounded-box w-52 gap-2"
                >
                  <li>
                    <a class="btn btn-sm btn-ghost" href="/profile">Profile</a>
                  </li>
                  <li>
                    <a class="btn btn-sm btn-ghost" href="/settings/account"
                      >Setting</a
                    >
                  </li>
                  <li>
                    <a class="btn btn-sm btn-error" (click)="logout()"
                      >Loggout</a
                    >
                  </li>
                </ul>
              </details>
            </div>
            } @else{
            <a href="/login" class="btn btn-sm btn-ghost mx-2">Login</a>
            <a href="/signup" class="btn btn-sm btn-primary">SignUp</a>
            }
          </div>
        </div>
        <div class="-mr-2 flex md:hidden">
          <button
            type="button"
            class="btn btn-sm btn-primary"
            aria-controls="mobile-menu"
            aria-expanded="false"
            (click)="toggleMobileMenu()"
          >
            <span class="sr-only">Open main menu</span>
            <svg
              class="block h-6 w-5"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16m-7 6h7"
              ></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
    @if(isMobileMenuOpen){
    <div class="lg:hidden" id="mobile-menu">
      <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
        <a
          href="#"
          class="hover:bg-base-300 block px-3 py-2 rounded-md text-base font-medium"
          >Home</a
        >
        <a
          href="#"
          class="hover:bg-base-300 block px-3 py-2 rounded-md text-base font-medium"
          >About</a
        >
        <a
          href="#"
          class="hover:bg-base-300 block px-3 py-2 rounded-md text-base font-medium"
          >Services</a
        >
        <a
          href="#"
          class="hover:bg-base-300 block px-3 py-2 rounded-md text-base font-medium"
          >Dashboard</a
        >
        <div class="flex items-center px-5">
          <div class="flex-shrink-0">
            <img class="h-6 w-auto" src="../../assets/squi-arrow.png" />
          </div>
          <div class="ml-3">
            <div class="text-base font-medium leading-none">User</div>
            <div class="text-sm font-medium leading-none text-gray">
              usersxample.com
            </div>
          </div>
        </div>
        <div class="mt-3 px-2 space-y-1">
          <a
            href="/profile"
            class="hover:bg-base-300 block px-3 py-2 rounded-md text-base font-medium"
            >Profile</a
          >
          <a
            href="/Settings/account"
            class="hover:bg-base-300 block px-3 py-2 rounded-md text-base font-medium"
            >Settings</a
          >
          <a
            href="#"
            class="hover:bg-base-300 block px-3 py-2 rounded-md text-base font-medium"
            (click)="logout()"
            >Loggout</a
          >
        </div>
      </div>
    </div>
    }
  </nav>
  <nav class="bg-base-200 py-2">
    <div class="flex items-center">
      <div class="hidden lg:block">
        <div class="ml-10 flex items-baseline space-x-4">
          <button [routerLink]="['/marketplace']" class="btn btn-sm btn-ghost">
            MarketPlace
          </button>
          <button [routerLink]="['/']" class="btn btn-sm btn-ghost">
            About
          </button>
          <button [routerLink]="['/']" class="btn btn-sm btn-ghost">
            Services
          </button>
          @if(isLoggedIn){
          <button [routerLink]="['/dashboard']" class="btn btn-sm btn-ghost">
            Dashboard
          </button>
          } @if(isLoggedIn){
          <button
            [routerLink]="['/list-order-delivery']"
            class="btn btn-sm btn-ghost"
          >
            Delivery
          </button>
          }
        </div>
      </div>
    </div>
  </nav>
</div>
